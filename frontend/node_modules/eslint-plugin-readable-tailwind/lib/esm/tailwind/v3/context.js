import defaultConfig from "tailwindcss/defaultConfig.js";
import * as setupContextUtils from "tailwindcss/lib/lib/setupContextUtils.js";
import loadConfig from "tailwindcss/loadConfig.js";
import resolveConfig from "tailwindcss/resolveConfig.js";
export function loadTailwindConfig(path) {
    const config = path ? loadConfig(path) : defaultConfig;
    return resolveConfig(config);
}
const CACHE = new Map();
export function createTailwindContextFromConfigFile(path, invalidate) {
    const cacheKey = path ?? "default";
    if (CACHE.has(cacheKey) && !invalidate) {
        return CACHE.get(cacheKey);
    }
    const tailwindConfig = loadTailwindConfig(path);
    const context = setupContextUtils.createContext?.(tailwindConfig) ?? setupContextUtils.default?.createContext?.(tailwindConfig);
    CACHE.set(cacheKey, context);
    return context;
}
//# sourceMappingURL=context.js.map