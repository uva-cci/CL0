import { existsSync, statSync } from "node:fs";
const CACHE = new Map();
export function shouldInvalidate(path) {
    const stat = statSync(path);
    if (!existsSync(path) || !stat.isFile()) {
        CACHE.delete(path);
        return;
    }
    const invalidate = stat.mtimeMs > (CACHE.get(path) ?? 0);
    CACHE.set(path, stat.mtimeMs);
    return {
        invalidate,
        path
    };
}
//# sourceMappingURL=invalidate.js.map